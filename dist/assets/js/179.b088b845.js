"use strict";(self["webpackChunkcovid_19"]=self["webpackChunkcovid_19"]||[]).push([[179],{59179:function(t,i,s){s.r(i),s.d(i,{default:function(){return h}});var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"wrap wide"},[t._m(0),i("div",{staticClass:"cov-tab epidemic_content"},[i("van-tabs",{attrs:{animated:""},on:{click:t.onActive},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.hospitalData.tabInfo,(function(s,a){return i("van-tab",{attrs:{title:s.title}},[i("div",{staticClass:"lv_search",on:{click:t.cityQuery}},[i("div",{staticClass:"lv_search_info"},[i("div",{staticClass:"iconfont icon-jiantou_zuoyouqiehuan"},[t._v("切换")]),0!==t.cityData.length?i("div",[t._v(t._s(t.cityData[t.values[0]].name))]):t._e(),2!==t.active&&0!==t.cityData.length?i("div",[t._v(t._s(t.cityData[t.values[0]].children[t.values[1]].name))]):t._e(),i("div",{staticClass:"iconfont icon-xiala2"})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active===0"}],staticClass:"epidemic_list"},t._l(t.hospListArr.designatedHospital,(function(s,a){return i("div",{key:a,staticClass:"epidemic_list_row line1"},[i("span",[t._v(t._s(s.name))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.active,expression:"active===1"}],staticClass:"epidemic_list"},t._l(t.hospListArr.feverClinic,(function(s,a){return i("div",{key:a,staticClass:"epidemic_list_row line1"},[i("span",[t._v(t._s(s.name))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.active,expression:"active===2"}],staticClass:"epidemic_list"},t._l(t.MaternityArr.pregnantWoman,(function(s,a){return i("div",{key:a,staticClass:"epidemic_list_row line1"},[i("span",[t._v(t._s(s.name))])])})),0)])})),1)],1),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[i("van-picker",{attrs:{"toolbar-position":"top","show-toolbar":"",title:"切换城市",columns:t.columns},on:{cancel:function(i){t.show=!1},confirm:t.onConfirm}})],1)],1)},e=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"banner wide"},[i("img",{staticClass:"wide",attrs:{src:s(66447),alt:""}})])}],c=s(63569),n={data(){return{active:0,hospitalData:[],cityData:[],show:!1,columns:[],hospListArr:[],values:[0,0],MaternityArr:[],cityNum:"",cityN:""}},mounted(){this.hospital(),this.city(),this.hospList("")},methods:{async hospital(){let t=await(0,c.LD)();this.hospitalData=t.data},async city(){this.columns=[];let t=await(0,c.Qb)();t.data.forEach((t=>{t.text=t.name,t.items.forEach((t=>t.text=t.fname)),t.children=t.items})),this.cityData=t.data,2!==this.active?this.columns=t.data:t.data.forEach((t=>{this.columns.push({text:t.name,code:t.code})}))},cityQuery(){this.show=!0},onConfirm(t,i){if(this.show=!1,2!==this.active){let t=this.columns[i[0]].children[i[1]];this.hospList(t.code),this.values=i,this.cityNum=this.columns[i[0]].code}else{let t=this.columns[i];this.Maternity(t.code),this.values=[i,0],this.cityN=this.cityData[i].children[0].code,this.cityNum=this.columns[i].code}},async hospList(t){let i=await(0,c.Zb)(t);this.hospListArr=i.data},async Maternity(t){let i=await(0,c.ke)(t);this.MaternityArr=i.data},onActive(){this.city(),this.Maternity(this.cityNum||"CN11000000000000"),this.hospList(this.cityN)}}},o=n,l=s(1001),r=(0,l.Z)(o,a,e,!1,null,"300c3678",null),h=r.exports},66447:function(t,i,s){t.exports=s.p+"assets/img/medical.e0e6aeb0.png"}}]);
//# sourceMappingURL=179.b088b845.js.map