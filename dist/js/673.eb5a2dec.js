"use strict";(self["webpackChunkcovid_19"]=self["webpackChunkcovid_19"]||[]).push([[673],{26673:function(t,s,e){e.r(s),e.d(s,{default:function(){return y}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap wide"},[t._m(0),s("div",{staticClass:"covid-center wide"},[s("div",{staticClass:"lv_search"},[s("div",{staticClass:"lv_search_info"},[s("div",{staticClass:"departure",on:{click:function(s){t.setOut=!0}}},[s("span",[t._v(t._s(t.changeValue?t.from:t.to))]),s("i",{staticClass:"iconfont icon-xiala2"})]),s("div",{staticClass:"ic_change iconfont icon-jiantou_zuoyouqiehuan",on:{click:t.onChangePlaces}}),s("div",{staticClass:"destination",on:{click:function(s){t.objective=!0}}},[s("span",{class:[t.to?"color111":"colorCCC"]},[t._v(t._s(t.changeValue?t.to?t.to:"目的地":t.from))]),s("i",{staticClass:"iconfont icon-xiala2"})])])])]),s("div",{staticClass:"covid-policy wide"},[s("Trip",{attrs:{list:t.list}})],1),s("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.setOut,callback:function(s){t.setOut=s},expression:"setOut"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,title:"切换城市"},on:{confirm:t.onConfirm}})],1),s("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.objective,callback:function(s){t.objective=s},expression:"objective"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,title:"切换城市"},on:{confirm:t.onConfirmTo}})],1)],1)},o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"banner wide"},[s("img",{staticClass:"wide",attrs:{src:e(82524),alt:""}})])}],a=e(49197),l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrap"},[0!==t.list.length?s("TripDom",{attrs:{title:"行程信息",getInto:t.list,diff:0}}):t._e(),0!==t.reverseorder.length?s("TripDom",{attrs:{title:"返程信息",getInto:t.reverseorder,diff:1}}):t._e()],1)},n=[],c=function(){var t=this,s=t._self._c;return s("div",[s("section",[s("div",{staticClass:"lv_search_line_tit"},[s("h2",[t._v(" "+t._s(t.title))]),s("div",{staticClass:"lv_search_line"},[s("div",{staticClass:"lv_search_line_row"},[s("div",{staticClass:"lv_search_line_address"},[s("span",{staticClass:"place"},[t._v("出发地："+t._s(t.getInto[0].city_name)+" ")]),s("span",{staticClass:"risklevel"},[t._v(" 风险等级："+t._s(t.risk_level[t.level][t.level])+" ")])]),s("div",{staticClass:"lv_search_line_tips"},[t._v(" 外出政策 ")]),s("div",{staticClass:"lv_search_line_txt"},[s("p",{staticClass:"limit_box"},[s("span",{staticClass:"limit_box_txt"},[t._v(" "+t._s(t._f("deletewords")(t.getInto[0].out_summary))+" ")])])]),s("div",{staticClass:"buttons"},[s("van-button",{staticClass:"button",attrs:{color:"rgba(49,146,241,.1)",icon:"search",type:"primary"}},[t._v(" 查看"+t._s(t.getInto[0].title)+"疫情地图")]),s("van-button",{staticClass:"button",attrs:{color:"rgba(49,146,241,.1)",icon:"search",type:"info"}},[t._v("查询地区风险等级")])],1)]),s("div",{staticClass:"lv_search_line_row"},[2==t.getInto.length?s("div",{staticClass:"lv_search_line_address"},[s("span",{staticClass:"place"},[t._v("到达地："+t._s(t.getInto[t.getInto.length-1].city_name)+" ")]),s("span",{staticClass:"risklevel"},[t._v("风险等级："+t._s(t.risk_level[t.levels][t.levels]))])]):t._e(),s("div",{staticClass:"lv_search_line_tips"},[t._v(" 进入政策 ")]),s("div",{staticClass:"lv_search_line_txt"},[s("p",{staticClass:"limit_box"},[s("span",{staticClass:"limit_box_txt"},[t._v(t._s(t._f("deletewords")(t.getInto[t.getInto.length-1].in_summary))+" ")])]),s("div",{staticClass:"seemore",on:{click:t.seedetails}},[t._v(" 点击查看更多 "),s("span",{staticClass:"iconfont icon-xiayiyeqianjinchakangengduo"})])]),s("div",{staticClass:"buttons"},[s("van-button",{staticClass:"button",attrs:{color:"rgba(49,146,241,.1)",icon:"search",type:"primary"}},[t._v(" 查看"+t._s(t.getInto[t.getInto.length-1].title)+"疫情地图 ")]),s("van-button",{staticClass:"button",attrs:{color:"rgba(49,146,241,.1)",icon:"search",type:"info"}},[t._v("查询地区风险等级")])],1)])])])])])},r=[],v={props:["getInto","title","diff"],data(){return{risk_level:[{0:"暂无",color:"#65CA18"},{1:"低",color:"#65CA18"},{2:"中",color:"#FF7205"},{3:"高",color:"#891A05"},{4:"部分中、高",color:"#FF7205"}],level:0,levels:0}},mounted(){this.level=this.getInto[0].level,this.levels=this.getInto[this.getInto.length-1].level},methods:{seedetails(){let t=JSON.stringify(this.getInto[this.getInto.length-1]);this.$router.push({name:"details",params:{content:t}})}}},d=v,h=e(1001),u=(0,h.Z)(d,c,r,!1,null,"4e108b5e",null),_=u.exports,f={props:{list:{type:[],defaule:function(){return[]}}},data(){return{}},components:{TripDom:_},computed:{reverseorder(){let t=JSON.stringify(2===this.list.length?this.list:[]);return JSON.parse(t).reverse()}},mounted(){}},m=f,p=(0,h.Z)(m,l,n,!1,null,"176f8fd9",null),g=p.exports,C={data(){return{setOut:!1,objective:!1,columns:[],region:{},changeValue:!0,fromId:"110100000000",toId:"",from:"北京市",to:"",formdiff:0,todiff:1,resultData:{},list:[]}},components:{Trip:g},mounted(){this.levelLink(),this.getLevel()},methods:{async getLevel(){let t=await(0,a.Kd)(this.fromId,this.toId),{config:s,list:e}=t.data;this.changeValue?this.list=e:this.list=e.reverse()},async levelLink(){let t=await(0,a.gT)();this.columns=t},onChangePlaces(){if(!this.to)return;this.changeValue=!this.changeValue;let t=[this.fromId,this.toId]=[this.toId,this.fromId];this.fromId=t[0],this.toId=t[1],this.changeValue?(this.formdiff=0,this.todiff=1):(this.formdiff=1,this.todiff=0),this.getLevel()},onConfirm(t,s){this.from=t[1],this.setOut=!1;let e=this.columns[s[0]].children[s[1]].code;0===this.formdiff?this.fromId=e:this.toId=e,this.getLevel()},onConfirmTo(t,s){this.to=t[1],this.objective=!1;let e=this.columns[s[0]].children[s[1]].code;1===this.todiff?this.toId=e:this.fromId=e,this.getLevel()}}},b=C,I=(0,h.Z)(b,i,o,!1,null,"075def47",null),y=I.exports},49197:function(t,s,e){e.d(s,{Kd:function(){return o},gT:function(){return a}});var i=e(89028);const o=(t,s)=>i.Z.get(`/news/ncp/data.d.json?mod=gwy_policy&fromCity=CN${t}00&toCity=CN${s}00`),a=()=>i.Z.get("/statisticsCode.json")},82524:function(t,s,e){t.exports=e.p+"img/travel.a04446e7.png"}}]);
//# sourceMappingURL=673.eb5a2dec.js.map