"use strict";(self["webpackChunkcovid_19"]=self["webpackChunkcovid_19"]||[]).push([[9,238,147],{29311:function(t,i,e){e.d(i,{Z:function(){return p}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"banner d-flex d-cont-end"},[i("h1",{staticClass:"slideTit"},[t._v("新冠肺炎疫情")]),i("h3",{staticClass:"slideSubTit"},[t._v(t._s(t.country)+"实时动态追踪")]),i("van-popup",{staticClass:"van-popup",attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[i("div",{staticClass:"headerChoice"},[i("div",{staticClass:"headerIcon"},[i("div",{staticClass:"title d-flex d-cont-between align-item"},[i("span",{on:{click:function(i){t.show=!1}}},[t._v("取消")]),i("span",{staticClass:"title-center"},[t._v("地区选择")]),i("span")]),i("div",{staticClass:"currentPosi"},[i("span",{staticClass:"d-flex d-cont-start align-item"},[i("i",{staticClass:"iconfont icon-ditu_dingwei_o"}),t._v(" 当前定位：北京")])]),i("div",{staticClass:"regionBtns d-flex d-cont-center align-item"},[i("button",{class:["country",1==t.active?"active":""],on:{click:function(i){return t.dataSwitching(1)}}},[t._v("国内")]),i("button",{class:["country",2==t.active?"active":""],on:{click:function(i){return t.dataSwitching(2)}}},[t._v("国外")])])]),i("div",{staticClass:"content"},[i("domestic",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active==1"}],attrs:{cities_cn:t.cities_cn}}),i("berAbroad",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active==2"}],attrs:{countries:t.countries}})],1)])])],1)},a=[],n=e(30045),c=e(73238),o=e(81147),l={props:["country"],data(){return{show:!1,active:1,cities_cn:[],countries:[]}},created(){},mounted(){this.getBanner(),this.$nextTick((()=>this.$bus.$on("nocityCode",(t=>{this.show=!1}))))},components:{domestic:c["default"],berAbroad:o["default"]},methods:{async getBanner(){let t=await(0,n.K_)();this.cities_cn=t.data.cities_cn,this.countries=t.data.countries},region(){this.show=!0},dataSwitching(t){this.active=t}},destroyed(){this.$bus.$off("nocityCode")}},r=l,d=e(1001),u=(0,d.Z)(r,s,a,!1,null,"5921869e",null),p=u.exports},81147:function(t,i,e){e.r(i),e.d(i,{default:function(){return r}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main"},[i("ul",t._l(t.countries,(function(e){return i("li",[t._v(" "+t._s(e.c)+" ")])})),0)])},a=[],n={props:["countries"],data(){return{}}},c=n,o=e(1001),l=(0,o.Z)(c,s,a,!1,null,"dd165fb8",null),r=l.exports},73238:function(t,i,e){e.r(i),e.d(i,{default:function(){return r}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main"},t._l(t.cities_cn,(function(e,s){return i("van-collapse",{staticClass:"van-collapse",model:{value:t.activeNames,callback:function(i){t.activeNames=i},expression:"activeNames"}},[i("van-collapse-item",{attrs:{name:s},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"plagueName"},[t._v(t._s(e.c))])]},proxy:!0}],null,!0)},[0!==e.z.length?i("div",{staticClass:"plagueList d-flex d-cont-start"},[i("span",{staticClass:"city_link",on:{click:function(i){return t.regionSelect(e.e)}}},[t._v(t._s(e.c)+"全省")]),t._l(e.z,(function(e){return i("span",{staticClass:"city_link",on:{click:function(i){return t.regionSelect(e.i)}}},[t._v(" "+t._s(e.c)+" ")])}))],2):i("div",{staticClass:"plagueList"},[i("span",{staticClass:"city_link",on:{click:function(i){return t.regionSelect(e.e)}}},[t._v(t._s(e.c))])])])],1)})),1)},a=[],n={props:["cities_cn"],data(){return{activeNames:["1"]}},methods:{regionSelect(t){this.$bus.$emit("nocityCode",t)}}},c=n,o=e(1001),l=(0,o.Z)(c,s,a,!1,null,"573dee90",null),r=l.exports},42009:function(t,i,e){e.r(i),e.d(i,{default:function(){return Q}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main"},[i("Banner",{attrs:{country:t.country}}),0!==t.dataList.length?i("Localitem",{attrs:{localitem:t.localitem,dataList:t.dataList}}):t._e(),i("Testing",{attrs:{title:t.country}}),0!==t.city.length?i("CityMap",{attrs:{city:t.city,country:t.country}}):t._e(),0!==t.historylist.length?i("ExistingChart",{attrs:{country:t.country,diff:t.diff,historylist:t.historylist}}):t._e(),0==t.diff?i("div",{staticClass:"citylist main-center"},[i("Title",{attrs:{title:t.country+"病例"}}),i("citylist",{attrs:{is_jwsr:t.is_jwsr,citylist:t.citylist}})],1):t._e(),""!==t.citycode?i("information",{attrs:{diff:t.diff,citycode:t.citycode,country:t.country}}):t._e()],1)},a=[],n=e(29311),c=e(75350),o=e(72791),l=function(){var t=this,i=t._self._c;return i("table",{staticClass:"table"},[i("thead",[i("tr",t._l(t.citylistTitle,(function(e,s){return i("th",{key:s,style:`background-color:${e.bgColor}`},[t._v(" "+t._s(e.title))])})),0)]),i("tbody",t._l(t.citylist,(function(e,s){return i("tr",{staticClass:"m_item",on:{click:function(i){return t.getIntoCity(e.citycode,t.is_jwsr)}}},[i("td",[t._v(t._s(e.name)+" ")]),i("td",[t._v(t._s(e.conadd))]),i("td",[t._v(t._s(e.conNum))]),i("td",[t._v(t._s(e.deathNum>0?e.deathNum:""))]),i("td",[t._v(t._s(e.cureNum))]),""===t.is_jwsr?i("td",{staticClass:"icon"},[i("i",{staticClass:"iconfont icon-xiayiyeqianjinchakangengduo"})]):t._e()])})),0)])},r=[],d={props:["citylist","is_jwsr"],data(){return{citylistTitle:[{title:"区/县",bgColor:"#EAEAEA"},{title:"新增确诊",bgColor:"#FFE2DC"},{title:"确诊",bgColor:"#FFC9C9"},{title:"死亡",bgColor:"#D4D4D4"},{title:"治愈",bgColor:"#C0ECE0"},{title:"详情",bgColor:"#D4D4D4"}]}},methods:{getIntoCity(t,i){""===i&&this.$router.replace({name:"CovDomestic",params:{citycode:t,diff:1}})}}},u=d,p=e(1001),f=(0,p.Z)(u,l,r,!1,null,"02ee6f6a",null),m=f.exports,y=function(){var t=this,i=t._self._c;return i("div",{staticClass:"localitem main-center"},[i("ul",{staticClass:"d-flex d-cont-between"},t._l(t.localitem,(function(e,s){return 6!==s&&7!==s?i("li",{key:s},[i("span",[t._v(t._s(e.title))]),i("p",{style:`color:rgb(${e.rgb.r},${e.rgb.g},${e.rgb.b})`},[0==s?[t._v(" "+t._s(t.dataList.locIncrNum))]:1==s?[t._v(" "+t._s(t.dataList.historylist[0].locAsymNum))]:2==s?[t._v(" "+t._s(t.dataList.econNum))]:3==s?[t._v(" "+t._s(t.dataList.contotal))]:4==s?[t._v(" "+t._s(t.dataList.curetotal))]:5==s?[t._v(" "+t._s(t.dataList.deathtotal))]:t._e()],2),i("p",[i("i",[t._v("较昨日")]),2==s?[t._v(t._s(t.dataList.adddaily.conadd))]:3==s?[t._v(t._s(t.dataList.adddaily.cureadd))]:4==s?[t._v(t._s(t.dataList.adddaily.deathadd))]:t._e()],2)]):t._e()})),0)])},h=[],_={props:["dataList","localitem"],data(){return{}}},v=_,g=(0,p.Z)(v,y,h,!1,null,"09a33ed4",null),C=g.exports,w=function(){var t=this,i=t._self._c;return i("div",{staticClass:"map main-center"},[i("Title",{attrs:{title:`${t.country}${0==t.type?"现存":"累计"}确诊疫情地图`}}),i("div",{attrs:{id:"cityMapBox"}}),i("div",{staticClass:"btns d-flex d-cont-between"},[i("button",{class:[0==t.type?"active":""],on:{click:function(i){return t.switching(0)}}},[t._v("现存数据")]),i("button",{class:[1==t.type?"active":""],on:{click:function(i){return t.switching(1)}}},[t._v("累计数据")])])],1)},b=[],N=e(66337),x={props:["city","country"],data(){return{type:0}},mounted(){this.getcitydata(this.type)},components:{Title:c.Z},methods:{getcitydata(t){let i=[];this.city.forEach((e=>{""!==e.citycode&&i.push({name:e.mapName,value:0==t?parseInt(e.econNum):parseInt(e.conNum)})})),this.$myecharts.cityMap("cityMapBox",this.country,(0,N.N9)(this.country,{toneType:"none"}).replace(/\s*/g,""),i)},switching(t){this.type=t,this.getcitydata(t)}}},k=x,T=(0,p.Z)(k,w,b,!1,null,"7b7bf11a",null),$=T.exports,Z=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main main-center"},[i("div",{staticClass:"d-flex d-cont-between align-item"},[i("Title",{attrs:{title:t.country+t.titles[t.type]}}),0==t.diff?i("p",{staticClass:"daysNum d-flex d-cont-arund align-item"},[i("span",{class:0===t.diffNum?"active":"",on:{click:function(i){return t.onpick(0)}}},[t._v("30天")]),t._v(" | "),i("span",{class:1===t.diffNum?"active":"",on:{click:function(i){return t.onpick(1)}}},[t._v("全部")])]):t._e()],1),i("div",{attrs:{id:"outbound"}}),0==t.diff?i("div",{staticClass:"tbas d-flex d-cont-between"},t._l(t.topTenTabs,(function(e,s){return i("p",{class:t.type===e.type?"active":"",on:{click:function(i){return t.checkType(e.type)}}},[i("span",[t._v(t._s(e.toptitle))]),i("br"),i("span",[t._v(t._s(e.text))])])})),0):t._e()])},L=[];function j(t,i,e){let s=0==e?[4,3,2]:[3],a=null;a=0==e?{0:[{name:"无症状",color:"#8A38A1",data:i.map((t=>t.locAsymNum))},{name:"确诊",color:"#CF3313",data:i.map((t=>t.conadd))},{name:"死亡",color:"#2F2F2F",data:i.map((t=>t.deathNum))},{name:"治愈",color:"#13B593",data:i.map((t=>t.cureadd))}],1:[{name:"确诊",color:"#CF3313",data:i.map((t=>t.conNum))},{name:"死亡",color:"#2F2F2F",data:i.map((t=>t.deathNum))},{name:"治愈",color:"#13B593",data:i.map((t=>t.cureNum))}],2:[{name:"新增输入",color:"#FF3535",data:i.map((t=>t.jwsradd))},{name:"累计输入",color:"#74011A",data:i.map((t=>t.jwsrNum))}]}:{0:[{name:"新增本土确诊",color:"#A48256",data:i.map((t=>t.locIncrNum))},{name:"新增本土无症状",color:"#A64CBF",data:i.map((t=>t.locAsymNum))},{name:"现存确诊",color:"#CF3313",data:i.map((t=>t.econNum))}]};let n=[];for(let c=0;c<s[t];c++)n.push({name:a[t][c].name,color:a[t][c].color,data:a[t][c].data,type:"line",smooth:!0,symbolSize:6,symbol:"circle",connectNulls:!0});return n}var F=e(20381),A={props:["historylist","country","diff"],data(){return{topTenTabs:[{type:0,text:"无症状 | 确诊 | 死亡 | 治愈",toptitle:"新增"},{type:1,text:"确诊|死亡|治愈",toptitle:"累计"},{type:2,text:"新增|累计确诊",toptitle:"境外输入"}],titles:["疫情新增趋势图 ","疫情趋势图 ","境外输入趋势图"],type:0,diffNum:0}},watch:{diff:{handler(t){console.log(t),this.checkType(0)}}},mounted(){this.checkType(0)},components:{Title:c.Z},methods:{checkType(t){this.type=t,this.processing(t)},processing(t){let i=[];i=0==this.diff?0==this.diffNum?(0,F.S)(this.historylist,30):this.historylist:(0,F.S)(this.historylist,7);let e=i.map((t=>t.date)),s=j(t,i,this.diff);this.$myecharts.mainlandMap("outbound",s,e,!0,"人数",!0)},onpick(t){this.diffNum=t,this.checkType(this.type)}}},S=A,B=(0,p.Z)(S,Z,L,!1,null,"467e02f2",null),D=B.exports,E=function(){var t=this,i=t._self._c;return i("div",{staticClass:"main"},[i("div",{staticClass:"cov-title"},[t._v(t._s(t.country)+"疫情资讯")]),i("div",{staticClass:"list"},[i("ul",t._l(t.list,(function(e){return i("li",{key:e.dataid},[i("a",{staticClass:"d-flex d-cont-between align-item",attrs:{href:e.url}},[i("div",{staticClass:"title d-flex d-flex-column d-cont-between"},[i("p",[t._v(t._s(e.title))]),i("span",[t._v(t._s(e.media))])]),e.thumb?i("div",{staticClass:"img"},[i("img",{attrs:{src:e.thumb,alt:""}})]):t._e()])])})),0)]),i("infinite-loading",{on:{infinite:t.infiniteHandler}})],1)},P=[],I=e(30045),z=e(18814),M=e.n(z),H={props:["citycode","country","diff"],data(){return{list:[],page:1}},components:{InfiniteLoading:M()},mounted(){this.getProvinceNews()},methods:{async getProvinceNews(t){let i=await(0,I.eT)(this.citycode,this.page,0==this.diff?"province":"city"),e=i.result.data;t&&(e.length?(this.page+=1,t.loaded()):t.complete(),this.list=[...this.list,...e])},infiniteHandler(t){this.getProvinceNews(t)}}},J=H,K=(0,p.Z)(J,E,P,!1,null,"5af87900",null),O=K.exports,q={data(){return{citycode:"",country:"",localitem:[],citylist:[],dataList:[],city:[],historylist:[],diff:0,is_jwsr:""}},components:{Banner:n.Z,Title:c.Z,Citylist:m,Localitem:C,Testing:o.Z,CityMap:$,ExistingChart:D,information:O},watch:{$route:{handler(t){let{citycode:i,diff:e}=t.params;this.getProvincedataTwo(e,i),this.citycode=i,this.diff=e},immediate:!0}},mounted(){this.getProvinTitle()},methods:{async getProvinTitle(){let t=await(0,I.zJ)();this.localitem=t.result.data.statistics_local_dataitem},async getProvincedataTwo(t,i){let e=await(0,I.O)(0==t?"province":"city",0==t?"province":"citycode",i);console.log(e.data);let{city:s,historylist:a,is_jwsr_history:n}=e.data;this.country=0==t?e.data.province:s,this.dataList=e.data,this.city=0==t?s:[],this.historylist=a,this.is_jwsr=n,this.citylist=0==t?s.sort(((t,i)=>i.conNum-t.conNum)):[]},cityValue(t){this.getProvincedataTwo(1,t.citycode)}}},V=q,G=(0,p.Z)(V,s,a,!1,null,"760b7eeb",null),Q=G.exports},30045:function(t,i,e){e.d(i,{Dg:function(){return o},K_:function(){return c},O:function(){return r},S8:function(){return a},eT:function(){return d},lc:function(){return n},zJ:function(){return l}});var s=e(89028);const a=t=>s.Z.get("/news/wap/ncp_foreign.d.json?citycode="+t),n=()=>s.Z.get("/comparison.json"),c=()=>s.Z.get("/sinawap_get_area_tree.d.json"),o=(t,i)=>s.Z.get(`\n/news/wap/fyzt_newsv2.d.json?type=country&code=${t}&page=${i}\n`),l=()=>s.Z.get("/news/fy_config.d.json?env=local"),r=(t,i,e)=>s.Z.get(`/news/ncp/data.d.json?mod=${t}&${i}=${e}`),d=(t,i,e)=>s.Z.get(`/news/wap/fyzt_newsv2.d.json?type=${e}&code=${t}&page=${i}`)}}]);
//# sourceMappingURL=9.9c579761.js.map